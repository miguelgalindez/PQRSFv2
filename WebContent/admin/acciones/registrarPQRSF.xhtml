<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	>
			
	<h:body>						
		<div class="col-lg-12">
        	<div class="box box-danger">
	            <div class="box-header with-border">			    				        														
		            <div class="arrow-steps clearfix">
		            	<div class="col-sm-offset-2 col-sm-10">
				          <div class="step current"> <span> Datos Personales</span> </div>
				          <div class="step"> <span> Datos de contacto</span> </div>
				          <div class="step"> <span> Datos de la PQRSF</span> </div>
				          <div class="step"> <span> Confirmaci√≥n</span> </div>
			          	</div>							          
					</div>								            							
            	</div>
            	<div class="box-body">
					<h:form id="registroPqrsfForm" styleClass="form-horizontal">																						
						
						<ui:include src="/template/modalRespuesta.xhtml" />
							
						<p:wizard flowListener="#{registrarPqrsfControl.progressHandler}" widgetVar="wiz" showNavBar="false" showStepStatus="false">
							<p:tab id="datosPersonales" title="Datos Personales">
								<ui:include src="/admin/partials/registrarPQRSF/paso1.xhtml" />							
							</p:tab>
							
							<p:tab id="datosContacto" title="Datos de Contacto">
								<ui:include src="/admin/partials/registrarPQRSF/paso2.xhtml" />															
							</p:tab>
							<p:tab id="DatosPQRSF" title="Datos de la PQRSF">
								<ui:include src="/admin/partials/registrarPQRSF/paso3.xhtml" />																
							</p:tab>
							<p:tab id="confirmacion" title="Proceso finalizado">
								<p:panel>
									<p:messages />
									<ui:include src="/admin/partials/registrarPQRSF/confirmacion.xhtml" />																						
								</p:panel>																
							</p:tab>
						</p:wizard>
						<h:panelGroup id="panelBotones" class="col-sm-offset-3 col-sm-5">
							<div class="pull-left">																		
								<p:commandLink styleClass="btn btn-lg btn-danger" actionListener="#{registrarPqrsfControl.back}" update="panelBotones" process="@this">
									<i class="fa fa-arrow-circle-left"/> 				            				           
					            	<span>Retroceder</span>
								</p:commandLink>
							</div>
							<div class="pull-right">
								<p:commandLink id="btnContinuar" actionListener="#{registrarPqrsfControl.next}" styleClass="btn btn-lg btn-success" rendered="#{registrarPqrsfControl.isLastStep==false}" update="panelBotones" process="@this">
									<span>Continuar</span>
									<i class="fa fa-arrow-circle-right"/> 				            				           					            	
								</p:commandLink>
								<p:commandLink id="btnGuardar" actionListener="#{registrarPqrsfControl.guardarPqrsf}" rendered="#{registrarPqrsfControl.isLastStep}" update="@(form)" process="@this" styleClass="btn btn-lg btn-success">
									<span>Guardar</span>
									<i class="fa fa-floppy-o"/> 				            				           					            	
								</p:commandLink>
							</div>									
						</h:panelGroup>						
						<p:defaultCommand target="#{registrarPqrsfControl.isLastStep ? 'btnGuardar' : 'btnContinuar' }" />																	
					</h:form>
				</div>
			</div>
		</div>												
	</h:body>
</html>
